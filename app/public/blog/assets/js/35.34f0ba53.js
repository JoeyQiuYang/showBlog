(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{256:function(t,e,a){"use strict";a.r(e);var n=a(3),r=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"internationalization-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#internationalization-support"}},[t._v("#")]),t._v(" Internationalization Support")]),t._v(" "),a("p",[t._v("Node.js has many features that make it easier to write internationalized\nprograms. Some of them are:")]),t._v(" "),a("ul",[a("li",[t._v("Locale-sensitive or Unicode-aware functions in the "),a("a",{attrs:{href:"https://tc39.github.io/ecma262/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ECMAScript Language\nSpecification"),a("OutboundLink")],1),t._v(":\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.normalize()")]),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.toLowerCase()")]),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.toUpperCase()")]),a("OutboundLink")],1)])])]),t._v(" "),a("li",[t._v("All functionality described in the "),a("a",{attrs:{href:"https://tc39.github.io/ecma402/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ECMAScript Internationalization API\nSpecification"),a("OutboundLink")],1),t._v(" (aka ECMA-402):\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Intl")]),a("OutboundLink")],1),t._v(" object")]),t._v(" "),a("li",[t._v("Locale-sensitive methods like "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.localeCompare()")]),a("OutboundLink")],1),t._v(" and\n"),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Date.prototype.toLocaleString()")]),a("OutboundLink")],1)])])]),t._v(" "),a("li",[t._v("The "),a("router-link",{attrs:{to:"/node/url.html#url_the_whatwg_url_api"}},[t._v("WHATWG URL parser")]),t._v("'s "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Internationalized_domain_name",target:"_blank",rel:"noopener noreferrer"}},[t._v("internationalized domain names"),a("OutboundLink")],1),t._v(" (IDNs) support")],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/node/buffer.html#buffer_buffer_transcode_source_fromenc_toenc"}},[a("code",[t._v("require('buffer').transcode()")])])],1),t._v(" "),a("li",[t._v("More accurate "),a("router-link",{attrs:{to:"/node/repl.html#repl_repl"}},[t._v("REPL")]),t._v(" line editing")],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/node/util.html#util_class_util_textdecoder"}},[a("code",[t._v("require('util').TextDecoder")])])],1),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/tc39/proposal-regexp-unicode-property-escapes",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("RegExp")]),t._v(" Unicode Property Escapes"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Node.js (and its underlying V8 engine) uses "),a("a",{attrs:{href:"http://site.icu-project.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ICU"),a("OutboundLink")],1),t._v(" to implement these features\nin native C/C++ code. The full ICU data set is provided by Node.js by default.\nHowever, due to the size of the ICU data file, several\noptions are provided for customizing the ICU data set either when\nbuilding or running Node.js.")]),t._v(" "),a("h2",{attrs:{id:"options-for-building-node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-for-building-node-js"}},[t._v("#")]),t._v(" Options for building Node.js")]),t._v(" "),a("p",[t._v("To control how ICU is used in Node.js, four "),a("code",[t._v("configure")]),t._v(" options are available\nduring compilation. Additional details on how to compile Node.js are documented\nin "),a("a",{attrs:{href:"https://github.com/nodejs/node/blob/master/BUILDING.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("BUILDING.md"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("--with-intl=none")]),t._v("/"),a("code",[t._v("--without-intl")])]),t._v(" "),a("li",[a("code",[t._v("--with-intl=system-icu")])]),t._v(" "),a("li",[a("code",[t._v("--with-intl=small-icu")])]),t._v(" "),a("li",[a("code",[t._v("--with-intl=full-icu")]),t._v(" (default)")])]),t._v(" "),a("p",[t._v("An overview of available Node.js and JavaScript features for each "),a("code",[t._v("configure")]),t._v("\noption:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[a("code",[t._v("none")])]),t._v(" "),a("th",[a("code",[t._v("system-icu")])]),t._v(" "),a("th",[a("code",[t._v("small-icu")])]),t._v(" "),a("th",[a("code",[t._v("full-icu")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.normalize()")]),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("none (function is no-op)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("String.prototype.to*Case()")])]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Intl")]),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("none (object does not exist)")]),t._v(" "),a("td",[t._v("partial/full (depends on OS)")]),t._v(" "),a("td",[t._v("partial (English-only)")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.localeCompare()")]),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("partial (not locale-aware)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("String.prototype.toLocale*Case()")])]),t._v(" "),a("td",[t._v("partial (not locale-aware)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Number.prototype.toLocaleString()")]),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("partial (not locale-aware)")]),t._v(" "),a("td",[t._v("partial/full (depends on OS)")]),t._v(" "),a("td",[t._v("partial (English-only)")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("Date.prototype.toLocale*String()")])]),t._v(" "),a("td",[t._v("partial (not locale-aware)")]),t._v(" "),a("td",[t._v("partial/full (depends on OS)")]),t._v(" "),a("td",[t._v("partial (English-only)")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("router-link",{attrs:{to:"/node/url.html#url_the_whatwg_url_api"}},[t._v("WHATWG URL Parser")])],1),t._v(" "),a("td",[t._v("partial (no IDN support)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("router-link",{attrs:{to:"/node/buffer.html#buffer_buffer_transcode_source_fromenc_toenc"}},[a("code",[t._v("require('buffer').transcode()")])])],1),t._v(" "),a("td",[t._v("none (function does not exist)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("router-link",{attrs:{to:"/node/repl.html#repl_repl"}},[t._v("REPL")])],1),t._v(" "),a("td",[t._v("partial (inaccurate line editing)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("router-link",{attrs:{to:"/node/util.html#util_class_util_textdecoder"}},[a("code",[t._v("require('util').TextDecoder")])])],1),t._v(" "),a("td",[t._v("partial (basic encodings support)")]),t._v(" "),a("td",[t._v("partial/full (depends on OS)")]),t._v(" "),a("td",[t._v("partial (Unicode-only)")]),t._v(" "),a("td",[t._v("full")])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://github.com/tc39/proposal-regexp-unicode-property-escapes",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("RegExp")]),t._v(" Unicode Property Escapes"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("none (invalid "),a("code",[t._v("RegExp")]),t._v(" error)")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")]),t._v(" "),a("td",[t._v("full")])])])]),t._v(" "),a("p",[t._v('The "(not locale-aware)" designation denotes that the function carries out its\noperation just like the non-'),a("code",[t._v("Locale")]),t._v(" version of the function, if one\nexists. For example, under "),a("code",[t._v("none")]),t._v(" mode, "),a("code",[t._v("Date.prototype.toLocaleString()")]),t._v("'s\noperation is identical to that of "),a("code",[t._v("Date.prototype.toString()")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"disable-all-internationalization-features-none"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disable-all-internationalization-features-none"}},[t._v("#")]),t._v(" Disable all internationalization features ("),a("code",[t._v("none")]),t._v(")")]),t._v(" "),a("p",[t._v("If this option is chosen, ICU is disabled and most internationalization\nfeatures mentioned above will be "),a("strong",[t._v("unavailable")]),t._v(" in the resulting "),a("code",[t._v("node")]),t._v(" binary.")]),t._v(" "),a("h3",{attrs:{id:"build-with-a-pre-installed-icu-system-icu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-with-a-pre-installed-icu-system-icu"}},[t._v("#")]),t._v(" Build with a pre-installed ICU ("),a("code",[t._v("system-icu")]),t._v(")")]),t._v(" "),a("p",[t._v("Node.js can link against an ICU build already installed on the system. In fact,\nmost Linux distributions already come with ICU installed, and this option would\nmake it possible to reuse the same set of data used by other components in the\nOS.")]),t._v(" "),a("p",[t._v("Functionalities that only require the ICU library itself, such as\n"),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.normalize()")]),a("OutboundLink")],1),t._v(" and the "),a("router-link",{attrs:{to:"/node/url.html#url_the_whatwg_url_api"}},[t._v("WHATWG URL parser")]),t._v(", are fully\nsupported under "),a("code",[t._v("system-icu")]),t._v(". Features that require ICU locale data in\naddition, such as "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Intl.DateTimeFormat")]),a("OutboundLink")],1),t._v(" "),a("em",[t._v("may")]),t._v(" be fully or partially\nsupported, depending on the completeness of the ICU data installed on the\nsystem.")],1),t._v(" "),a("h3",{attrs:{id:"embed-a-limited-set-of-icu-data-small-icu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#embed-a-limited-set-of-icu-data-small-icu"}},[t._v("#")]),t._v(" Embed a limited set of ICU data ("),a("code",[t._v("small-icu")]),t._v(")")]),t._v(" "),a("p",[t._v("This option makes the resulting binary link against the ICU library statically,\nand includes a subset of ICU data (typically only the English locale) within\nthe "),a("code",[t._v("node")]),t._v(" executable.")]),t._v(" "),a("p",[t._v("Functionalities that only require the ICU library itself, such as\n"),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("String.prototype.normalize()")]),a("OutboundLink")],1),t._v(" and the "),a("router-link",{attrs:{to:"/node/url.html#url_the_whatwg_url_api"}},[t._v("WHATWG URL parser")]),t._v(", are fully\nsupported under "),a("code",[t._v("small-icu")]),t._v(". Features that require ICU locale data in addition,\nsuch as "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Intl.DateTimeFormat")]),a("OutboundLink")],1),t._v(", generally only work with the English locale:")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" january "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9e8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" english "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Intl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'en'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" month"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'long'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spanish "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Intl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" month"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'long'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("english"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("january"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Prints "January"')]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("spanish"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("january"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Prints "M01" on small-icu')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Should print "enero"')]),t._v("\n")])])]),a("p",[t._v("This mode provides a balance between features and binary size.")]),t._v(" "),a("h4",{attrs:{id:"providing-icu-data-at-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#providing-icu-data-at-runtime"}},[t._v("#")]),t._v(" Providing ICU data at runtime")]),t._v(" "),a("p",[t._v("If the "),a("code",[t._v("small-icu")]),t._v(" option is used, one can still provide additional locale data\nat runtime so that the JS methods would work for all ICU locales. Assuming the\ndata file is stored at "),a("code",[t._v("/some/directory")]),t._v(", it can be made available to ICU\nthrough either:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The "),a("router-link",{attrs:{to:"/node/cli.html#cli_node_icu_data_file"}},[a("code",[t._v("NODE_ICU_DATA")])]),t._v(" environment variable:")],1),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NODE_ICU_DATA")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/some/directory node\n")])])])]),t._v(" "),a("li",[a("p",[t._v("The "),a("router-link",{attrs:{to:"/node/cli.html#cli_icu_data_dir_file"}},[a("code",[t._v("--icu-data-dir")])]),t._v(" CLI parameter:")],1),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("node --icu-data-dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/some/directory\n")])])])])]),t._v(" "),a("p",[t._v("(If both are specified, the "),a("code",[t._v("--icu-data-dir")]),t._v(" CLI parameter takes precedence.)")]),t._v(" "),a("p",[t._v("ICU is able to automatically find and load a variety of data formats, but the\ndata must be appropriate for the ICU version, and the file correctly named.\nThe most common name for the data file is "),a("code",[t._v("icudt6X[bl].dat")]),t._v(", where "),a("code",[t._v("6X")]),t._v(" denotes\nthe intended ICU version, and "),a("code",[t._v("b")]),t._v(" or "),a("code",[t._v("l")]),t._v(" indicates the system's endianness.\nCheck "),a("a",{attrs:{href:"http://userguide.icu-project.org/icudata",target:"_blank",rel:"noopener noreferrer"}},[t._v('"ICU Data"'),a("OutboundLink")],1),t._v(" article in the ICU User Guide for other supported formats\nand more details on ICU data in general.")]),t._v(" "),a("p",[t._v("The "),a("a",{attrs:{href:"https://www.npmjs.com/package/full-icu",target:"_blank",rel:"noopener noreferrer"}},[t._v("full-icu"),a("OutboundLink")],1),t._v(" npm module can greatly simplify ICU data installation by\ndetecting the ICU version of the running "),a("code",[t._v("node")]),t._v(" executable and downloading the\nappropriate data file. After installing the module through "),a("code",[t._v("npm i full-icu")]),t._v(",\nthe data file will be available at "),a("code",[t._v("./node_modules/full-icu")]),t._v(". This path can be\nthen passed either to "),a("code",[t._v("NODE_ICU_DATA")]),t._v(" or "),a("code",[t._v("--icu-data-dir")]),t._v(" as shown above to\nenable full "),a("code",[t._v("Intl")]),t._v(" support.")]),t._v(" "),a("h3",{attrs:{id:"embed-the-entire-icu-full-icu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#embed-the-entire-icu-full-icu"}},[t._v("#")]),t._v(" Embed the entire ICU ("),a("code",[t._v("full-icu")]),t._v(")")]),t._v(" "),a("p",[t._v("This option makes the resulting binary link against ICU statically and include\na full set of ICU data. A binary created this way has no further external\ndependencies and supports all locales, but might be rather large. This is\nthe default behavior if no "),a("code",[t._v("--with-intl")]),t._v(" flag is passed. The official binaries\nare also built in this mode.")]),t._v(" "),a("h2",{attrs:{id:"detecting-internationalization-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#detecting-internationalization-support"}},[t._v("#")]),t._v(" Detecting internationalization support")]),t._v(" "),a("p",[t._v("To verify that ICU is enabled at all ("),a("code",[t._v("system-icu")]),t._v(", "),a("code",[t._v("small-icu")]),t._v(", or\n"),a("code",[t._v("full-icu")]),t._v("), simply checking the existence of "),a("code",[t._v("Intl")]),t._v(" should suffice:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasICU "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" Intl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Alternatively, checking for "),a("code",[t._v("process.versions.icu")]),t._v(", a property defined only\nwhen ICU is enabled, works too:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasICU "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("versions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("icu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("To check for support for a non-English locale (i.e. "),a("code",[t._v("full-icu")]),t._v(" or\n"),a("code",[t._v("system-icu")]),t._v("), "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Intl.DateTimeFormat")]),a("OutboundLink")],1),t._v(" can be a good distinguishing factor:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasFullICU "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" january "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9e8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spanish "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Intl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" month"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'long'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" spanish"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("january"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'enero'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("For more verbose tests for "),a("code",[t._v("Intl")]),t._v(" support, the following resources may be found\nto be helpful:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/srl295/btest402",target:"_blank",rel:"noopener noreferrer"}},[t._v("btest402"),a("OutboundLink")],1),t._v(": Generally used to check whether Node.js with "),a("code",[t._v("Intl")]),t._v(" support is\nbuilt correctly.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/tc39/test262/tree/master/test/intl402",target:"_blank",rel:"noopener noreferrer"}},[t._v("Test262"),a("OutboundLink")],1),t._v(": ECMAScript's official conformance test suite includes a section\ndedicated to ECMA-402.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);